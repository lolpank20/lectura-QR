<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tienda Demo - Carrito</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <img src="img/logoavvillas.jpg" alt="Banco AV Villas" style="height:60px;vertical-align:middle;">
    <h1 style="display:inline; margin-left:18px;">Tienda Demo</h1>
  </header>
  <nav>
    <a href="index.html">Catálogo</a>
    <a href="cart.html">Carrito</a>
  </nav>
  <div class="container">
    <h2>Carrito de Compras</h2>
    <div id="cart-list"></div>
    <div id="cart-actions" style="margin-top:24px;"></div>
  </div>
  <script>
    const products = [
      {id:1, name:'Camiseta Roja', price:35000, img:'https://images.unsplash.com/photo-1512436991641-6745cdb1723f?auto=format&fit=crop&w=400&q=80'},
      {id:2, name:'Gorra Azul', price:22000, img:'https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=400&q=80'},
      {id:3, name:'Termo Blanco', price:28000, img:'https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=400&q=80'},
      {id:4, name:'Mug Edición Especial', price:18000, img:'https://images.unsplash.com/photo-1464983953574-0892a716854b?auto=format&fit=crop&w=400&q=80'}
    ];
    function renderCart() {
      let cart = JSON.parse(localStorage.getItem('cart')||'[]');
      const list = document.getElementById('cart-list');
      if(cart.length===0) {
        list.innerHTML = '<p>El carrito está vacío.</p>';
        document.getElementById('cart-actions').innerHTML = '';
        return;
      }
      let total = 0;
      let html = '<table><tr><th>Producto</th><th>Cantidad</th><th>Precio</th><th>Subtotal</th></tr>';
      cart.forEach(item => {
        const prod = products.find(p=>p.id===item.id);
        const subtotal = prod.price * item.qty;
        total += subtotal;
        html += `<tr><td>${prod.name}</td><td>${item.qty}</td><td>$${prod.price.toLocaleString()}</td><td>$${subtotal.toLocaleString()}</td></tr>`;
      });
      html += `<tr><th colspan="3">Total</th><th>$${total.toLocaleString()}</th></tr></table>`;
      list.innerHTML = html;
      document.getElementById('cart-actions').innerHTML = `
        <button class="btn" onclick="emptyCart()">Vaciar Carrito</button>
        <a href="checkout.html" class="btn" style="margin-left:18px;">Ir a Pagar</a>
      `;
    }
    function emptyCart() {
      localStorage.removeItem('cart');
      renderCart();
    }
    renderCart();
  </script>
</body>
</html>
